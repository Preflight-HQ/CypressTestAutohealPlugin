!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("selectors-generator",[],e):"object"==typeof exports?exports["selectors-generator"]=e():t["selectors-generator"]=e()}(this,(function(){return(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{ElementsSelector:()=>St,SelectorsGenerator:()=>Nt});var n=function(t,e){this.value=t,this.optimized=e||!1};n.prototype={toString:function(){return this.value}};const r=n,i=function(t){if(/^-?[a-zA-Z_][a-zA-Z0-9_-]*$/.test(t))return t;var e=/^(?:[0-9]|-[0-9-]?)/.test(t),n=t.length-1;return t.replace(/./g,(function(t,r){return e&&0===r||!function(t){return!!/[a-zA-Z0-9_-]/.test(t)||t.charCodeAt(0)>=160}(t)?function(t,e){return"\\"+function(t){var e=t.charCodeAt(0).toString(16);return 1===e.length&&(e="0"+e),e}(t)+(e?"":" ")}(t,r===n):t}))};function o(t){return!!t&&!![/\d{1,}/,/^ember\d+/,/^[0-9_-]+$/,/^_\d{2,}/,/([a-f_-]*[0-9_-]){6,}/i,/preflight-highlight/,/select2-/,/^v-/,/^data-v-/,/hover/,/activ|focus|hydrated|solid|button|black|touch|stack|label|pristine|valid|placeholder|input|dirty|selected|collaps|show|hide|visibl|highlight/,/open/,/^item-|^blue-|^in-|^has/,/^md$/,/^ng-/,/\.|\]|\[|\{|\}|:|\)|\(|\*|\$/,/([A-Z].[A-Z])|(^[a-z].*[A-Z])|(\-[0-9])|([qwrtpsdfghjklzxcvbnm]{4,})|([a-z]{2}[A-Z]{1}.{2})|([A-Z]{2,})|([0-9]{2,})|([a-z].*[0-9].*)/].find((function(e){return e.test(t)}))}const a=function(t){function e(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=!0;return e}function n(t){var e=l(t);return e&&void 0!==e&&"string"==typeof e?e.split(/\s+/g).filter((function(t){return t&&!o(t)})).map((function(t){return"$"+t})):[]}function a(t){return"form"===t.nodeName.toLowerCase()&&!t.getAttribute("id")}function u(t,e){return e&&"input"===t.nodeName.toLowerCase()}function l(t){return t.getAttribute("class")||t.className}t=t||{withoutNthChild:!1,targetNode:null,until:null},this.visit=function(s){if(1!==s.nodeType)return null;var c=s.nodeName.toLowerCase(),f=s.parentNode,h=[];f&&f.children&&(h=Array.from(f.children));var p=function(t,e){return"Array"!=typeof e&&(e=Array.from(e)),e.filter((function(e){return 1===e.nodeType&&e!==t&&e.nodeName.toLowerCase()===t.nodeName.toLowerCase()}))}(s,h);if(function(t,e){var n=t.getAttribute("id");return!!n&&(!o(n)&&("Array"!=typeof e&&(e=Array.from(e)),0===e.filter((function(t){return t.getAttribute("id")===n})).length))}(s,p)){var g=s.getAttribute("id");return new r(c+function(t){return"#"+i(t)}(g),!0)}if(!f||9===f.nodeType||f==t.until)return new r(c,!0);var m=function(e,n){var r=e.getAttribute("name");return!(!r||o(r))&&!(!u(e,t.targetNode===e)&&!a(e)||!r||n.find((function(t){return t.getAttribute("name")===r})))}(s,p),d=p.length>0,y=function(t,r,i){for(var o=!1,a=n(t),u=0;!o&&u<r.length;++u){var l=r[u];if(!o){var s=e(a),c=0;for(var f in s)s.hasOwnProperty(f)&&++c;if(0!==c||i)for(var h=n(l),p=0;p<h.length;++p){var g=h[p];if(s.hasOwnProperty(g)&&(delete s[g],!--c&&!i)){o=!0;break}}else o=!0}}return o}(s,p,m),v=function(e){return e.getAttribute("type")&&(u(e,t.targetNode===e)&&!l(e)||a(e)||function(t){return"button"===t.nodeName.toLowerCase()&&!t.getAttribute("id")}(e))}(s),b=function(t,e){return t.getAttribute("data-testid")}(s),N=c;if(m){var S=s.getAttribute("name");return N+='[name="'+i(S)+'"]',new r(N,!0)}if(v&&(N+='[type="'+s.getAttribute("type")+'"]'),b)return N+='[data-testid="'+s.getAttribute("data-testid")+'"]',new r(N,!0);if(y&&!t.withoutNthChild)N+=":nth-child("+(h.indexOf(s)+1)+")";else if(d){var E=n(s);for(var x in e(E))N+="."+i(x.substr(1))}return new r(N,!1)}};function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l,s,c,f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"getSelector",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e||1!==e.nodeType)return"";for(var r=new a({targetNode:e,until:null}),i=[],o=e;o;){var u=r.visit(o);if(!u)break;if(i.push(u),n&&t.isUniqueSelector(t.buildSelector(i)))break;o=o.parentNode}var l=t.simplifySelector(i);return t.buildSelector(l)}},{key:"simplifySelector",value:function(e){if(e.length<=2)return e;var n=e.slice();t.removeHtmlBodySteps(n);var r=n[n.length-1],i=r.toString().indexOf("#")>=0,o=r.toString().indexOf("name=")>=0;if(i||o){var a=t.simplifyStepsWithParent(n);if(this.isUniqueSelector(a))return a}return t.regularSimplifySteps(n,2)}},{key:"removeHtmlBodySteps",value:function(t){for(;"html"===t[t.length-1].toString()||"body"===t[t.length-1].toString();)t.pop()}},{key:"simplifyStepsWithParent",value:function(e){for(var n=e.slice(-1),r=e.slice(0,1);r.length<e.length-1;){var i=t.buildSelector([r,n]);if(t.isUniqueSelector(i))break;r=e.slice(0,r.length+1)}return[r,n]}},{key:"regularSimplifySteps",value:function(e,n){n=n||2;for(var r=e.slice(0,n);r.length<e.length;){var i=t.buildSelector(r);if(t.isUniqueSelector(i))break;r=e.slice(0,r.length+1)}return r}},{key:"buildSelector",value:function(e){var n=e.slice();return n.reverse(),void 0!==n[0]?n.join(" > "):n.reduce((function(e,n){var r=t.buildSelector(n);return previosValue?previosValue+" "+r:r}),"")}},{key:"isUniqueSelector",value:function(t){return this.doc.body.querySelectorAll(t).length<2}}],(n=[{key:"getPath",value:function(t){if(!t||1!==t.nodeType)return"";for(var e=new a({withoutNthChild:!0,targetNode:t}),n=[],r=t;r;){var i=e.visit(r);if(!i)break;n.push(i),r=r.parentNode}return n.reverse(),n.join(" ")}}])&&u(e.prototype,n),r&&u(e,r),t}();l=f,s="doc",c=document,s in l?Object.defineProperty(l,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):l.doc=c;const h=f,p=function(t,e,n,r){void 0===n&&(n=1),void 0===r&&(r=null),this.type=t,this.value=e,this.score=n,this.selector=r};function g(t){return t&&t.length>0?t[0]:null}var m=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},d=["a","button"],y=["input","textarea","select"],v=["..","+","-",">","<","*","$","@"],b=[{id:1,tagName:"!doctype"},{id:2,tagName:"a"},{id:3,tagName:"abbr"},{id:4,tagName:"acronym"},{id:5,tagName:"address"},{id:6,tagName:"applet"},{id:7,tagName:"area"},{id:8,tagName:"article"},{id:9,tagName:"aside"},{id:10,tagName:"audio"},{id:11,tagName:"b"},{id:12,tagName:"base"},{id:13,tagName:"basefont"},{id:14,tagName:"bdi"},{id:15,tagName:"bdo"},{id:16,tagName:"big"},{id:17,tagName:"blockquote"},{id:18,tagName:"body"},{id:19,tagName:"br"},{id:20,tagName:"button"},{id:21,tagName:"canvas"},{id:22,tagName:"caption"},{id:23,tagName:"center"},{id:24,tagName:"cite"},{id:25,tagName:"code"},{id:26,tagName:"col"},{id:27,tagName:"colgroup"},{id:28,tagName:"data"},{id:29,tagName:"datalist"},{id:30,tagName:"dd"},{id:31,tagName:"del"},{id:32,tagName:"details"},{id:33,tagName:"dfn"},{id:34,tagName:"dialog"},{id:35,tagName:"dir"},{id:36,tagName:"div"},{id:37,tagName:"dl"},{id:38,tagName:"dt"},{id:39,tagName:"em"},{id:40,tagName:"embed"},{id:41,tagName:"fieldset"},{id:42,tagName:"figcaption"},{id:43,tagName:"figure"},{id:44,tagName:"font"},{id:45,tagName:"footer"},{id:46,tagName:"form"},{id:47,tagName:"frame"},{id:48,tagName:"frameset"},{id:49,tagName:"h1 to <h6>"},{id:50,tagName:"head"},{id:51,tagName:"header"},{id:52,tagName:"hr"},{id:53,tagName:"html"},{id:54,tagName:"i"},{id:55,tagName:"iframe"},{id:56,tagName:"img"},{id:57,tagName:"input"},{id:58,tagName:"ins"},{id:59,tagName:"kbd"},{id:60,tagName:"label"},{id:61,tagName:"legend"},{id:62,tagName:"li"},{id:63,tagName:"link"},{id:64,tagName:"main"},{id:65,tagName:"map"},{id:66,tagName:"mark"},{id:67,tagName:"meta"},{id:68,tagName:"meter"},{id:69,tagName:"nav"},{id:70,tagName:"noframes"},{id:71,tagName:"noscript"},{id:72,tagName:"object"},{id:73,tagName:"ol"},{id:74,tagName:"optgroup"},{id:75,tagName:"option"},{id:76,tagName:"output"},{id:77,tagName:"p"},{id:78,tagName:"param"},{id:79,tagName:"picture"},{id:80,tagName:"pre"},{id:81,tagName:"progress"},{id:82,tagName:"q"},{id:83,tagName:"rp"},{id:84,tagName:"rt"},{id:85,tagName:"ruby"},{id:86,tagName:"s"},{id:87,tagName:"samp"},{id:88,tagName:"script"},{id:89,tagName:"section"},{id:90,tagName:"select"},{id:91,tagName:"small"},{id:92,tagName:"source"},{id:93,tagName:"span"},{id:94,tagName:"strike"},{id:95,tagName:"strong"},{id:96,tagName:"style"},{id:97,tagName:"sub"},{id:98,tagName:"summary"},{id:99,tagName:"sup"},{id:100,tagName:"svg"},{id:101,tagName:"table"},{id:102,tagName:"tbody"},{id:103,tagName:"td"},{id:104,tagName:"template"},{id:105,tagName:"textarea"},{id:106,tagName:"tfoot"},{id:107,tagName:"th"},{id:108,tagName:"thead"},{id:109,tagName:"time"},{id:110,tagName:"title"},{id:111,tagName:"tr"},{id:112,tagName:"track"},{id:113,tagName:"tt"},{id:114,tagName:"u"},{id:115,tagName:"ul"},{id:116,tagName:"var"},{id:117,tagName:"video"},{id:118,tagName:"wbr"}];const N=function(){function t(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=[]),this.doc=document,this.checkVisibility=!0,this.excludedKeywords=[],this.getOwnerDocumentOfElement=function(t){return t?t.contentDocument||t.ownerDocument:null},this.doc=t,this.excludedKeywords=n,this.checkVisibility=e}return t.prototype.updateDocument=function(t){this.doc=this.getOwnerDocumentOfElement(t)},t.prototype.generateXPath=function(t){var e=this.getHandlerElement(t);return this.updateDocument(e),this.prepareElement(e),this.xpathStrategies(t)},t.prototype.getAttributes=function(t){for(var e=t.attributes,n=[],r=0;r<e.length;r++)e[r].value.indexOf("base64")||n.push({name:e[r].name,value:e[r].value});return n},t.prototype.getTagName=function(t){return this.getTagId(t.tagName.toLowerCase())},t.prototype.getTagId=function(t){var e=b.find((function(e){return e.tagName===t}));return void 0===e?{i:0,t}:{i:e.id}},t.prototype.getTagNameFromTagObj=function(t){return 0===t.i?t.t:b.find((function(e){return e.id===t.i})).tagName},t.prototype.getPreviousSiblings=function(t){for(var e=[],n=t.previousElementSibling;n;)e.push({ta:this.getTagName(n),a:this.getAttributes(n),t:this.getText(n)}),n=n.previousElementSibling;return e},t.prototype.getNextSiblings=function(t){for(var e=[],n=t.nextElementSibling;n;)e.push({ta:this.getTagName(n),a:this.getAttributes(n),t:this.getText(n)}),n=n.nextElementSibling;return e},t.prototype.getData=function(t,e){return void 0===e&&(e=0),t?(null!==t.parentElement&&(n=this.getData(t.parentElement,++e)),{ta:this.getTagName(t),a:this.getAttributes(t),p:n,ps:this.getPreviousSiblings(t),ns:this.getNextSiblings(t),t:this.getText(t,[],[],0,!1)}):null;var n},t.prototype.findElementsByXpath=function(t){var e=[];try{for(var n=this.doc.evaluate(t,this.doc,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),r=0;r<n.snapshotLength;r++)e.push(n.snapshotItem(r))}catch(t){}return e},t.prototype.isVisible=function(t){return!this.checkVisibility||!(0===t.offsetWidth&&0===t.offsetHeight)},t.prototype.isSelect=function(t){return!!t&&"SELECT"===t.tagName},t.prototype.containsExcludedKeywords=function(t){return!!this.excludedKeywords.find((function(e){return t.includes(e)}))},t.prototype.getText=function(t,e,n,r,i){var o=this;if(void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=0),void 0===i&&(i=!1),null===t)return null;if(this.isSelect(t))return[];if(!i&&r>2)return e;var a=function(t,n,r,i){if(null!=n&&""!==n.trim()&&!o.containsExcludedKeywords(n)){if(n=n.replace(/\r?\n|\r/g,""),-1===v.indexOf(n)&&n.replace(/[^A-Za-z!?]/g,"").length<3)return;null===n.match(/^\s+$/)&&e.push({l:t,t:n,ta:o.getTagId(i),p:r.map(o.getTagId)})}},u=t.childNodes;if(u.length>0)for(var l=0;l<u.length;l++){var s=u[l];if(3===s.nodeType){if("style"===s.parentElement.tagName.toLowerCase()||"script"===s.parentElement.tagName.toLowerCase())continue;1===u.length&&n.push(this.getTagNameFromElement(t)),a(r,s.textContent,Array.from(n),this.getTagNameFromElement(t))}else if(1===s.nodeType){if("style"===s.tagName.toLowerCase()||"script"===s.tagName.toLowerCase())continue;0!==r&&n.push(this.getTagNameFromElement(t)),this.getText(s,e,Array.from(n),r+1)}}else if(3===t.nodeType)a(r,t.textContent,n,null);else if(1===t.nodeType){if("style"===t.tagName.toLowerCase()||"script"===t.tagName.toLowerCase())return e;a(r,t.innerText,n,this.getTagNameFromElement(t))}return e},t.prototype.getTagNameFromElement=function(t){var e=t.tagName.toLowerCase();return"svg"===e?"*[name()='svg']":e},t.prototype.xpathStrategyFormElement=function(t){for(var e=[],n=t;n&&n.previousSibling;)n=n.previousSibling,e.push.apply(e,this.getText(n,[],[],0,!0));for(var r=[],i=0;i<e.length;i++){var o="//"+this.getTagNameFromElement(t)+"[preceding-sibling::*[descendant::text()='"+e[i].t+"']]";r.push(o)}for(n=t;n&&n.nextSibling;)n=n.nextSibling,e.push.apply(e,this.getText(n,[],[],0,!0));for(i=0;i<e.length;i++)o="//"+this.getTagNameFromElement(t)+"[following-sibling::*[descendant::text()='"+e[i].t+"']]",r.push(o);return r},t.prototype.xpathStrategyFormElementParent=function(t){for(var e=[],n=t.parentElement;n&&n.previousSibling;)n=n.previousSibling,e.push.apply(e,this.getText(n));for(var r=[],i=0;i<e.length;i++){var o="//"+this.getTagNameFromTagObj(e[i].ta)+"[text()='"+e[i].t+"']/..//"+this.getTagNameFromElement(t);r.push(o)}return r},t.prototype.xpathStrategyFromElementAttribute=function(t,e){return 1===t.nodeType&&t.hasAttribute(e)&&""!==t.getAttribute(e)?"//"+this.getTagNameFromElement(t)+"[@"+e+"='"+t.getAttribute(e)+"']":null},t.prototype.xpathStrategyFromElementAttributes=function(t){for(var e=[],n=["placeholder","name","id","value","href","src"],r=0;r<n.length;r++){var i=n[r],o=this.xpathStrategyFromElementAttribute(t,i);null!==o&&e.push(o)}return e},t.prototype.xpathStrategyText=function(t){var e=[];if(1===t.nodeType&&void 0!==t.innerText&&""!==t.innerText.trim()&&!this.containsExcludedKeywords(t.innerText)){var n="//"+this.getTagNameFromElement(t)+"[normalize-space(.)='"+t.innerText.trim()+"']";e.push(n)}for(var r=this.getText(t),i=0;i<r.length;i++){var o=r[i];n="//"+this.getTagNameFromElement(t)+"//"+this.getTagNameFromTagObj(o.ta)+"[text()='"+o.t+"']",e.push(n);var a="//"+this.getTagNameFromTagObj(o.ta)+"[text()='"+o.t+"']";e.push(a)}return e},t.prototype.prepareElement=function(t){try{t.style.textTransform="none"}catch(t){}},t.prototype.neutralizeElement=function(t){try{t.style.textTransform=""}catch(t){}},t.prototype.xPathStrategyDescendantText=function(t){for(var e=[],n=0;n<t.t.length;n++){var r="//"+this.getTagNameFromTagObj(t.t[n].ta)+"[descendant::text()='"+t.t[n].t+"']";e.push(r)}return e},t.prototype.xpathStrategyTextInSameLevel=function(t){var e=[];if(!t||!t.p)return e;for(var n=t.p.t,r=0;r<n.length;r++){var i="//"+this.getTagNameFromTagObj(n[r].ta)+"[preceding-sibling::text()='"+n[r].t+"']";e.push(i);var o="//"+this.getTagNameFromTagObj(n[r].ta)+"[following-sibling::text()='"+n[r].t+"']";e.push(o)}return e},t.prototype.getXpathFromUpperEl=function(t,e){var n=[];if(t)for(var r=this.getText(t),i=0;i<r.length;i++){var o=r[i],a="//"+this.getTagNameFromTagObj(o.ta)+"[text()='"+o.t+"']/..//"+this.getTagNameFromElement(e);n.push(a)}return n},t.prototype.xpathStrategyUpperText=function(t){var e=[],n=t.getBoundingClientRect(),r=document.elementFromPoint(n.x-n.width,n.y-n.height);return e.push.apply(e,this.getXpathFromUpperEl(r,t)),r=document.elementFromPoint(n.x-2*n.width,n.y-2*n.height),e.push.apply(e,this.getXpathFromUpperEl(r,t)),r=document.elementFromPoint(n.x-3*n.width,n.y-3*n.height),e.push.apply(e,this.getXpathFromUpperEl(r,t)),e},t.prototype.getAttributesSelector=function(t,e){for(var n=["ng-"],r=m([],t.classList).filter((function(t){return n.find((function(e){return!t.includes(e)}))})),i=[],o=Math.min(e,r.length),a=0;a<o;a++)i.push({priority:2,value:"contains(@class, '"+r[a]+"')"});return t.type&&i.push({priority:1,value:"@type='"+t.type+"'"}),t.name&&i.push({priority:1,value:"@name='"+t.name+"'"}),i.sort((function(t,e){return t.priority-e.priority})),"["+(i=i.slice(0,3)).map((function(t){return t.value})).join(" and ")+"]"},t.prototype.getSelectableInnerTextForXPath=function(t,e){if(void 0===e&&(e=999),!t)return null;var n=t;if(!(n=(n=n.replace(/^[\s]+|[\s]+$/m,"")).split("\n").find((function(t){return t.length>2}))))return null;if(!(n=n.split("'").find((function(t){return t.length>2}))))return null;var r=n.split(" ");return r.slice(0,Math.min(e,r.length)).join(" ")},t.prototype.getElementTextForXpath=function(t){var e=t.innerText,n=t.textContent;if(!e||!n)return"";var r=t.textContent.toLowerCase(),i=e.toLowerCase().split("\n"),o=[];return i.forEach((function(t){var e=r.indexOf(t);-1!=e&&o.push(n.substr(e,t.length))})),o.join("\n")},t.prototype.xpathStrategyFormAncestorText=function(t){var e=this,n=this.getAttributesSelector(t,3),r=this.getElementTextForXpath(t),i=t.tagName,o=[];if(r){var a=this.getSelectableInnerTextForXPath(r,1);o.push(i+"[contains(text(), '"+a+"')]")}n&&o.push(""+i+n),0==o.length&&o.push(""+i);for(var u=[],l=r,s=t.parentElement,c=[],f=function(){var t=h.getElementTextForXpath(s),e=t.replace(l,""),n=h.getSelectableInnerTextForXPath(e,4);if(!n)return u.unshift(s.tagName),s=s.parentElement,"continue";var r=u.length>3?"/descendant::*":"/"+u.join("/");0==u.length&&(r=""),o.forEach((function(t){var e="(//*[contains(text(), '"+n+"')]/ancestor-or-self::*"+r+"/"+t+")";c.push({selector:e,hierarchyDepth:u.length})})),l=t,u.unshift(s.tagName),s=s.parentElement},h=this;s;)f();var p=[];return c.forEach((function(n){var r=e.findElementsByXpath(n.selector);if(r&&0!=r.length){var i=1;r.forEach((function(e){e==t&&p.push({selector:n.selector+(r.length>1?"["+i+"]":""),resultsCount:r.length,hierarchyDepth:n.hierarchyDepth}),i++}))}})),(p=p.sort((function(t,e){return t.hierarchyDepth-e.hierarchyDepth})).sort((function(t,e){return t.resultsCount-e.resultsCount}))).map((function(t){return t.selector}))},t.prototype.getHandlerElement=function(t){if(!t||!t.tagName||y.indexOf(t.tagName.toLowerCase())>-1)return t;for(var e=t.parentElement,n=0;n<5&&null!==e;n++){if(e.tagName&&d.indexOf(e.tagName.toLowerCase())>-1)return e;e=e.parentElement}return t},t.prototype.xpathStrategies=function(t){var e=this,n=this.getData(t),r=[];r.push.apply(r,this.xPathStrategyDescendantText(n)),r.push.apply(r,this.xpathStrategyTextInSameLevel(n)),r.push.apply(r,this.xpathStrategyFormElement(t)),r.push.apply(r,this.xpathStrategyFormElementParent(t)),r.push.apply(r,this.xpathStrategyFromElementAttributes(t)),r.push.apply(r,this.xpathStrategyText(t)),r.push.apply(r,this.xpathStrategyUpperText(t)),r.push.apply(r,this.xpathStrategyFormAncestorText(t));var i=new Set(r);r=Array.from(i);for(var o=[],a=[],u=[],l=0;l<r.length;l++){var s=r[l],c=this.findElementsByXpath(s),f=c.filter((function(t){return e.isVisible(t)}));if(1===f.length&&t===this.getHandlerElement(f[0]))o.push(s);else if(f.length>1){u.push(s);var h="("+s+")["+(f.indexOf(t)+1)+"]";1===(f=(c=this.findElementsByXpath(h)).filter((function(t){return e.isVisible(t)}))).length&&t===this.getHandlerElement(f[0])&&a.push(h)}else c.length>0&&u.push(s)}this.neutralizeElement(t);var p=0===o.length?a:o;return m(m([],p),u)},t}();function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var E=Function.call;function x(t){return function(){return E.apply(t,arguments)}}var w=function(t){return!!t&&"function"===S(t).toLowerCase()&&(t===Function.prototype||/^\s*function\s*(\b[a-z$_][a-z0-9$_]*\b)*\s*\((|([a-z$_][a-z0-9$_]*)(\s*,[a-z$_][a-z0-9$_]*)*)\)\s*\{\s*\[native code\]\s*\}\s*$/i.test(String(t)))},A=function(t){return t&&w(t)?t:null};const T={reduce:x(Array.prototype.reduce&&w(Array.prototype.reduce)?Array.prototype.reduce:function(t,e){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){e=this[n++];break}if(++n>=r)throw new TypeError}for(;n<r;n++)n in this&&(e=t(e,this[n],n));return e}),map:x(Array.prototype.map&&w(Array.prototype.map)?Array.prototype.map:function(t,e){var n=this,r=[];return array_reduce(n,(function(i,o,a){r.push(t.call(e,o,a,n))}),void 0),r}),filter:x(Array.prototype.filter&&w(Array.prototype.filter)?Array.prototype.filter:function(t,e){for(var n,r=[],i=0,o=this.length;i<o;i++)i in this&&t.call(e,n=this[i],i,this)&&r.push(n);return r}),indexOf:x(A(Array.prototype.indexOf)||function(t,e){var n;if(!this||!this.length)throw new TypeError('"this" is null or not defined');var r=Object(this),i=r.length>>>0;if(0===i)return-1;var o=+e||0;if(Math.abs(o)===1/0&&(o=0),o>=i)return-1;for(n=Math.max(o>=0?o:i-Math.abs(o),0);n<i;){if(n in r&&r[n]===t)return n;n++}return-1}),find:x(A(Array.prototype.find)||function(t,e){var n=this.length;if("function"!=typeof t)throw new TypeError("Array#find: predicate must be a function");if(0!==n)for(var r,i=0;i<n;i++)if(r=this[i],t.call(e,r,i,this))return r})};function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var j=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};P(this,t),this.buildModel(e||{},this.schema)}var e,n;return e=t,(n=[{key:"schema",get:function(){throw new Error("Model schema not defined.")}},{key:"buildModel",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(n).forEach((function(r){var i=O(e[r]);["number","boolean","string","object"].includes(i)&&![void 0,null].includes(e[r])?t[r]=e[r]:t[r]=n[r]}))}},{key:"reset",value:function(){var t=this;return Object.keys(this).forEach((function(e){t[e]=t.schema[e]})),this}}])&&C(e.prototype,n),t}();function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F(t,e){return(F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function D(t,e){return!e||"object"!==I(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_(r);if(i){var n=_(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return D(this,t)});function a(t,e,n,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),o.call(this,{tagName:t,attributeType:e,values:n,level:r})}return e=a,(n=[{key:"schema",get:function(){return{tagName:null,attributeType:null,values:[],level:-1}}}])&&k(e.prototype,n),a}(j);function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V(t,e){return(V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=U(r);if(i){var n=U(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return R(this,t)});function a(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),o.call(this,{value:t,uniqueness:e})}return e=a,(n=[{key:"schema",get:function(){return{value:null,uniqueness:-1}}}])&&L(e.prototype,n),a}(j),z=["id","type","role","name","data-testid","alt","draggable","data-focusable","class","title","data-toggle","form","for"];function H(t,e){if(t.nodeType!==Node.ELEMENT_NODE)return null;var n=t.nodeName.toLowerCase(),i=[];return T.find(z,(function(a){var u=t.getAttribute(a);if(u){if(u=u.trim(),"class"!==a){var l=new r("".concat(n,"[").concat(a,'="').concat(u,'"]'),!0),s=ut.getUniquenessDegree(l.value);if(s){var c=[new X(u,s)];i.push(new B(n,a,c,e))}return i}var f=[],h=u.split(" ");h&&h.length>0&&T.find(h,(function(t){o(t)||(f=M(f,n,a,t))})),0===f.length&&(f=M(f,n,a,u)),i.push(new B(n,a,f,e))}})),0===i.length&&i.push(new B(n,null,null,e)),i}function M(t,e,n,i){var o;o=new r("class"===n?"".concat(e,".").concat(i):"".concat(e,"[").concat(n,"='").concat(i,"']"));var a=ut.getUniquenessDegree(o.value,.25);return a&&t.push(new X(i,a)),t}function $(t){return function(t){if(Array.isArray(t))return Z(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const W=function(t){t=t||{withoutNthChild:!1,targetNode:null,until:null},this.visit=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[];if(e.nodeType!==Node.ELEMENT_NODE)return null;var i=e.nodeName.toLowerCase(),o=e.parentNode,a=!o||9===o.nodeType||o===t.until;return a&&r.push(new B(i,null,null,n)),r.push.apply(r,$(H(e,n))),0===r.length&&r.push(new B(i,null,null,n)),r}};function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var G=["li","tr"];function Y(t){var e=t.nodeName.toLowerCase();if(T.find(G,(function(t){if(t===e)return!0})),!t.parentElement)return!1;var n,r=(n=t.parentElement.children,function(t){if(Array.isArray(t))return K(t)}(n)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return K(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter((function(n){return n.nodeName.toLowerCase()===e&&n.className===t.className}));return!(r.length<=1||(T.find(r,(function(e){if(!function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.05,i=e+e*r,o=n-n*r,a=n+n*r;return e-e*r<=t.width<=i||o<=t.height<=a}(e,t.width,t.height))return!1})),0))}function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tt(t,e){return(tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function et(t,e){return!e||"object"!==J(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tt(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=nt(r);if(i){var n=nt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return et(this,t)});function a(t,e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),o.call(this,{hierarchyDatas:t,isRecurring:e,recurringData:n})}return e=a,(n=[{key:"schema",get:function(){return{hierarchyDatas:[],isRecurring:!1,recurringData:[]}}}])&&Q(e.prototype,n),a}(j);function it(t){return function(t){if(Array.isArray(t))return ot(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ot(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ot(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}const ut=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"getData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6;if(!t||1!==t.nodeType)return"";if(e>1||e<0)return"minimum uniqueness degree should be between 0 and 1";if(n<0)return"minimum depth limit should be 0";var r=new W({targetNode:t,until:null}),i=[],o=0,a=t;do{if(!a)break;var u=new rt(r.visit(a,i.length),!1,[]);if(!u)break;if(Y(a)){u.isRecurring=!0;var l=this.getContext(a.parentNode,a);l&&l.length>0?u.recurringData=l:u.recurringData=[]}else u.isRecurring=!1,u.recurringData=[];i.push(u),a=a.parentNode,o++}while(0===n||o<n);return i}},{key:"getContext",value:function(t,e){var n=[];return Array.from(t.children).forEach((function(t){t!==e&&t.tagName&&t.textContent.trim()&&n.push({tagName:t.tagName.toLowerCase(),textContent:t.textContent})})),n}},{key:"getUniquenessDegree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{var n=document.body.querySelectorAll(t).length}catch(e){console.log("Failed to select => ".concat(t," and the message is => ").concat(e.message))}if(n<=0)return 0;var r=1/n;return r>=e?r:0}},{key:"checkSelector",value:function(t,e){if(e.length>0)var n=h.buildSelector(e);return!(!n||!this.isSelectorUnique(n)||0!=t.filter((function(t){return t==n})).length||(t.push(n),0))}},{key:"getPossibleAllSelectors",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return n===t.length?this.checkSelector(r,i):t[n].forEach((function(o){e.checkSelector(r,i)||e.getPossibleAllSelectors(t,n+1,r,[].concat(it(i),[o]))})),r}},{key:"flattenWithParents",value:function(t){var e=this,n=[];return t.forEach((function(t){t&&0!==t.length?(e.hasStepOnlyTagName(t)&&n.push([t[0].tagName]),t.forEach((function(t){var e=[];e.push(t.tagName),t.values&&t.values.forEach((function(n,r){"class"===t.attributeType?e.push("".concat(t.tagName,".").concat(n.value)):e.push("".concat(t.tagName,"[").concat(t.attributeType,"='").concat(n.value,"']"))})),"class"===t.attributeType&&t.values.length>1&&e.push("".concat(t.tagName,".").concat(t.values.map((function(t){return t.value})).join("."))),e.length>1&&n.push(e)}))):logger.log("step length is 0, found nothing.")})),this.getPossibleAllSelectors(n)}},{key:"isSelectorUnique",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.getUniquenessDegree(t,e)>=e}},{key:"hasStepOnlyTagName",value:function(t){return 1===t.length&&0===t[0].values.length}},{key:"generateCssSelector",value:function(t){var e=this,n=[],r=[];return t.forEach((function(t){!t.hierarchyDatas||t.hierarchyDatas.length,e.hasStepOnlyTagName(t.hierarchyDatas)&&n.push([t.hierarchyDatas[0].tagName]),t.hierarchyDatas.forEach((function(t){var e=[];t.values&&t.values.forEach((function(n,r){e.push("class"===t.attributeType?"".concat(t.tagName,".").concat(n.value):"".concat(t.tagName,"[").concat(t.attributeType,"='").concat(n.value,"']"))})),e.length>0&&n.push(e)}))})),this.getPossibleAllSelectors(n).forEach((function(t){r.push(t)})),r}}],null&&at(e.prototype,null),n&&at(e,n),t}();var lt=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};const st=function(){function t(t,e){this.level=0,this.element=t,this.level=e}return Object.defineProperty(t.prototype,"allElements",{get:function(){return lt(lt(lt([],this.leftSiblings),[this]),this.rightSiblings)},enumerable:!1,configurable:!0}),t.prototype.initializeWithSurroundingNodes=function(){var e=this;this.parent=new t(this.element.parent,this.level+1),this.children=0==this.level?[]:this.element.validChildren.map((function(n){return new t(n,e.level-1)})),this.leftSiblings=this.element.prevSiblings.map((function(n){return new t(n,e.level)})),this.rightSiblings=this.element.nextSiblings.map((function(n){return new t(n,e.level)}))},t}(),ct=function(){function t(t,e,n){void 0===n&&(n=!1),this.isUniqueInParentContext=!1,this.isUniqueInPageContext=!1,this.nthChildInParentContext=1,this.typeOccurrenceInParentContext=1,this.parentTag=null,this.type=t,this.value=e,this.isPartial=n}return Object.defineProperty(t.prototype,"isAny",{get:function(){return"any"==this.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isIFrameTag",{get:function(){return"tag"==this.type&&"iframe"==this.value.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canBeCss",{get:function(){return null!==this.css},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssWithIndex",{get:function(){return this.isUniqueInParentContext||this.isAny?this.css:this.css+":nth-child("+this.nthChildInParentContext+")"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xPathWithIndex",{get:function(){return this.isUniqueInParentContext||this.isAny?this.xPath:this.xPath+"["+this.typeOccurrenceInParentContext+"]"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xPathInContext",{get:function(){var t="./";return"tag"!=this.type&&"any"!=this.type&&(t+="*"),""+t+this.xPath},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xPathInTopContext",{get:function(){var t="//";return"tag"!=this.type&&"any"!=this.type&&(t+="*"),""+t+this.xPath},enumerable:!1,configurable:!0}),t.isValidCssName=function(t){return t.match(/^[a-zA-Z_][_a-zA-Z0-9-]*/g)},Object.defineProperty(t.prototype,"css",{get:function(){switch(this.type){case"class":return t.isValidCssName(this.value)?"."+this.value:null;case"id":return t.isValidCssName(this.value)?"#"+this.value:null;case"tag":return t.isValidCssName(this.value)?this.value:null;case"any":return"*";case"text":case"placeholder":case"href":case"title":return null;default:return"["+this.type+'="'+this.value+'"]'}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xPath",{get:function(){switch(this.type){case"class":return'[contains(@class,"'+this.value+'")]';case"id":return'[@id="'+this.value+'"]';case"any":return"";case"tag":return this.value;case"text":var t=this.value.replace(/\s+/g," "),e=this.isPartial?'[contains(text(),"'+this.value+'")]':'[normalize-space(.)="'+t+'"]';return this.parentTag&&(e+="/ancestor-or-self::"+this.parentTag),e;default:return"[@"+this.type+'="'+this.value+'"]'}},enumerable:!1,configurable:!0}),t.prototype.includesLevelAttributes=function(t,e){},t}();const ft=function(){function t(t,e){void 0===e&&(e=null),this.parentIframeSelector=null,this.doc=t,this.parentIframeSelector=e}return t.isXpathSelector=function(t){return t&&!!t.match("^\\(*[.*]{0,1}/{1,2}")},t.prototype.getElementsByXPath=function(t,e){void 0===e&&(e=null);var n=e||this.getParentIframeEl(this.parentIframeSelector)||this.doc;return this.getElementsByXPathInner(t,n)},t.prototype.getElementsByCss=function(t,e){void 0===e&&(e=null);var n=e||this.getParentIframeEl(this.parentIframeSelector)||this.doc;return this.getElementsByCssInner(t,n)},t.prototype.getElements=function(t,e){void 0===e&&(e=null);var n=e||this.getParentIframeEl(this.parentIframeSelector)||this.doc;return this.getElementsInner(t,n)},t.prototype.getFirstElement=function(t,e){void 0===e&&(e=null);var n=e||this.getParentIframeEl(this.parentIframeSelector)||this.doc;return this.getFirstElementInner(t,n)},t.findFirstVisibleParent=function(e,n){if(void 0===n&&(n=5),!e)return null;for(var r=e,i=0;i<n;i++){if(t.isElVisible(r))return r;r=r.parentElement}return e},t.prototype.isElOnPage=function(e,n){return void 0===n&&(n=5e3),r=this,i=void 0,a=function(){var r,i;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(o){switch(o.label){case 0:r=Date.now()+n,o.label=1;case 1:return r>Date.now()?(i=this.getElements(e)).length>0&&(t.isElVisible(i[0])||t.isFileInput(i[0]))?[2,!0]:[4,new Promise((function(t){return setTimeout(t,500)}))]:[3,3];case 2:return o.sent(),[3,1];case 3:return[2,!1]}}))},new((o=void 0)||(o=Promise))((function(t,e){function n(t){try{l(a.next(t))}catch(t){e(t)}}function u(t){try{l(a.throw(t))}catch(t){e(t)}}function l(e){e.done?t(e.value):function(t){return t instanceof o?t:new o((function(e){e(t)}))}(e.value).then(n,u)}l((a=a.apply(r,i||[])).next())}));var r,i,o,a},t.isFileInput=function(t){var e;return"INPUT"===t.tagName&&"file"==(null===(e=t.getAttribute("type"))||void 0===e?void 0:e.toLowerCase())},t.isElVisible=function(t){var e=t.getBoundingClientRect(),n=e.height>2||e.width>2;return t&&n&&!(0===t.offsetWidth&&0===t.offsetHeight)},t.getVisibleElement=function(e,n){void 0===n&&(n=5);var r=e.find((function(e){return t.isElVisible(e)}));return r||(r=t.findFirstVisibleParent(g(e),n)),r},t.prototype.getElementsByXPathInner=function(t,e){void 0===e&&(e=this.doc);try{for(var n=[],r=this.doc.evaluate(t,e,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),i=0,o=r.snapshotLength;i<o;++i)n.push(r.snapshotItem(i));return n}catch(t){console.debug(t)}return[]},t.prototype.getElementsByCssInner=function(t,e){void 0===e&&(e=this.doc);try{return Array.from(e.querySelectorAll(t))}catch(t){console.debug(t)}return[]},t.prototype.getParentIframeEl=function(t){var e;void 0===t&&(t=this.parentIframeSelector);var n=this.doc;if(t){var r=(null===(e=this.getFirstElementInner(t,n))||void 0===e?void 0:e.contentDocument)||this.doc;r&&"IFRAME"===r.tagName&&(n=r.contentWindow)}return n},t.prototype.getElementsInner=function(e,n){return void 0===n&&(n=this.doc),e?t.isXpathSelector(e)?this.getElementsByXPathInner(e,n):this.getElementsByCssInner(e,n):(console.debug("Selector cannot be null"),[])},t.prototype.getFirstElementInner=function(t,e){return void 0===e&&(e=this.doc),t?g(this.getElementsInner(t,e)):(console.debug("Selector cannot be null"),null)},t}();var ht=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};const pt=function(){function t(t,e){void 0===e&&(e=[]),this.validAttributes=["id","type","role","name","data-testid","alt","draggable","data-focusable","class","title","data-toggle","form","for","placeholder","href"],this.usedVariables=[],this.maxClassesPerElement=3,this.mainElementTextLength=4,this.doc=t,this.usedVariables=e}return t.prototype.generate=function(t,e){void 0===e&&(e=15);for(var n=0,r=new st(t,n),i=r,o=null,a=[];n<e&&!i.element.isNodeName("body");){if(i.initializeWithSurroundingNodes(),i.selectorsAttributes=this.getSelectorsAttributes(i,a),null!=o){var u=i.children.find((function(t){return t.element.eq(o.element)}));i.children.splice(i.children.indexOf(u),1,o)}a=ht(ht([],a),i.selectorsAttributes.filter((function(t){return"text"==t.type})).map((function(t){return t.value}))),o=i,i=i.parent,n++}return r},t.prototype.getSelectorsAttributes=function(t,e){var n=this,r=[];this.validAttributes.forEach((function(e){var i=t.element.getAttribute(e);if(i)if("class"==e){var o=t.element.classList.filter((function(t){return!n.isClassGeneric(t)}));o.length>n.maxClassesPerElement&&(o=n.removeMostRepeatingClasses(o,n.maxClassesPerElement)),o.forEach((function(n){return r.push(new ct(e,n,t.element.classList.length>1))}))}else r.push(new ct(e,i))})),r.push(new ct("tag",t.element.tagName));var i=this.getNodeUniqueTexts(t);return i.texts.forEach((function(n){if(t.level<=0||!e.includes(n)){var o=n.length>30;o&&(n=n.slice(0,30));var a=i.isPartial||o,u=new ct("text",n,a);u.parentTag=t.level>0?t.element.tagName:null,r.push(u)}})),r.forEach((function(e){e.isUniqueInPageContext=n.selectInContext(e).length<=1;var r=n.selectInContext(e,t.parent.element.HtmlElement);e.isUniqueInParentContext=r&&r.length<=1,!e.isUniqueInParentContext&&r&&(e.typeOccurrenceInParentContext=Array.from(r).indexOf(t.element.HtmlElement)+1,e.nthChildInParentContext=Array.from(t.allElements.map((function(t){return t.element.HtmlElement}))).indexOf(t.element.HtmlElement)+1)})),r},t.prototype.selectInContext=function(t,e){void 0===e&&(e=this.doc);var n=e!=document?t.xPathInContext:t.xPathInTopContext;return new ft(this.doc).getElementsByXPath(n,e)},t.prototype.getNodeUniqueTexts=function(t){var e,n=t.level>0?this.mainElementTextLength:1;if((e=t.level>0?t.element.innerTexts.slice(0,3):[t.element.innerText]).length<=0)return{texts:[],isPartial:!1};var r=ht([],e);return this.usedVariables.forEach((function(t){for(var e=[];r.length>0;){var n=r.pop().split(t);e=ht(ht([],e),n)}r=e.map((function(t){return null==t?void 0:t.trim()})).filter((function(t){return!!t}))})),{texts:r.map((function(t){return t.trim()})).filter((function(t){return t.length>n})),isPartial:r.length>1||e.length>1||g(r)!=g(e).trim()}},t.prototype.isClassGeneric=function(t){return!!t&&!![/\d{1,}/,/^ember\d+/,/^[0-9_-]+$/,/^_\d{2,}/,/([a-f_-]*[0-9_-]){6,}/i,/preflight-highlight/,/select2-/,/^v-/,/^data-v-/,/hover/,/activ|focus|hydrated|solid|button|black|touch|stack|label|pristine|valid|placeholder|input|dirty|selected|collaps|show|hide|visibl|highlight/,/open/,/^item-|^blue-|^in-|^has/,/^md$/,/^ng-/,/\.|\]|\[|\{|\}|:|\)|\(|\*|\$/,/([A-Z].[A-Z])|(^[a-z].*[A-Z])|(\-[0-9])|([qwrtpsdfghjklzxcvbnm]{4,})|([a-z]{2}[A-Z]{1}.{2})|([A-Z]{2,})|([0-9]{2,})|([a-z].*[0-9].*)/].find((function(e){return e.test(t)}))},t.prototype.removeMostRepeatingClasses=function(t,e,n){var r=this;void 0===n&&(n=60);var i=t.map((function(t){return{cl:t,occurrences:r.doc.querySelectorAll("."+t).length}}));return(i=(i=i.filter((function(t){return t.occurrences<=n}))).sort((function(t,e){return t.occurrences-e.occurrences}))).slice(0,e),i.map((function(t){return t.cl}))},t}();var gt=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};const mt=function(){function t(t){this.Element=t,this.isTagNode=1==this.Element.nodeType}return Object.defineProperty(t.prototype,"HtmlElement",{get:function(){return this.Element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.isTagNode?this.HtmlElement.id:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"classList",{get:function(){return this.isTagNode&&"string"==typeof this.HtmlElement.className?this.HtmlElement.className.split(" ").filter((function(t){return!!t})).map((function(t){return t.trim()})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.Element.parentElement?new t(this.Element.parentElement):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"display",{get:function(){return this.isTagNode?(t=this.HtmlElement,"display",null===(e=window.getComputedStyle(t))||void 0===e?void 0:e.getPropertyValue("display")):"inline";var t,e},enumerable:!1,configurable:!0}),t.prototype.getComputedStyleProperty=function(t){var e;return null===(e=window.getComputedStyle(this.HtmlElement))||void 0===e?void 0:e.getPropertyValue(t)},Object.defineProperty(t.prototype,"isVisibleBySize",{get:function(){if(!this.isTagNode)return!0;if("visible"==this.getComputedStyleProperty("overflow"))return!0;var t=this.boundingRect;return t.height>2||t.width>2},enumerable:!1,configurable:!0}),t.prototype.isElementValid=function(){if(!this.isTagNode)return!0;var t=this.boundingRect;return t.height>2||t.width>2},Object.defineProperty(t.prototype,"validChildren",{get:function(){var t=[];return this.children.forEach((function(e){(e.isElementValid()||e&&!e.isVisibleBySize&&"inline"==e.display&&e.childrenCount>0)&&t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childrenCount",{get:function(){return this.children.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){if(!this.isTagNode)return[];var e,n=(e=this.HtmlElement)&&e.children||[];return gt([],Array.from(n)).map((function(e){return new t(e)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSiblings",{get:function(){var e=function(t){if(!t)return[];for(var e=[],n=t;n=n.nextSibling;)1==n.nodeType&&e.push(n);return e}(this.HtmlElement);return gt([],Array.from(e)).map((function(e){return new t(e)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"prevSiblings",{get:function(){var e=function(t){if(!t)return[];for(var e=[],n=t;n=n.previousSibling;)1==n.nodeType&&e.unshift(n);return e}(this.HtmlElement);return gt([],Array.from(e)).map((function(e){return new t(e)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"boundingRect",{get:function(){return this.HtmlElement.getBoundingClientRect()},enumerable:!1,configurable:!0}),t.prototype.eq=function(t){return!!t&&this.Element==t.Element},t.prototype.isNodeName=function(t){return t=t.toUpperCase(),this.isTagNode?this.HtmlElement.tagName.toUpperCase()==t:"TEXT"==t},Object.defineProperty(t.prototype,"tagName",{get:function(){return this.isTagNode?this.HtmlElement.tagName.toLowerCase():"text"},enumerable:!1,configurable:!0}),t.prototype.getAttribute=function(t){return this.isTagNode?this.HtmlElement.getAttribute(t):null},Object.defineProperty(t.prototype,"innerText",{get:function(){var t,e,n;return(null===(t=this.HtmlElement.innerText)||void 0===t?void 0:t.trim())||(null===(n=null===(e=this.Element)||void 0===e?void 0:e.textContent)||void 0===n?void 0:n.trim())||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerTexts2",{get:function(){var t=this.Element.textContent;return t?t.split("\n").map((function(t){return t.trim()})).filter((function(t){return!!t})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerTexts",{get:function(){return function t(e,n){var r=[];if(e)for(var i=e.childNodes,o=i.length;o--;){var a=i[o],u=a.nodeType;3==u?n&&!n(a,e)||r.push(a):1!=u&&9!=u&&11!=u||(r=r.concat(t(a,n)))}return r}(this.Element,(function(t,e){return!!t.nodeValue.trim()})).reverse().map((function(t){return t.nodeValue}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTextElement",{get:function(){return 3==this.Element.nodeType},enumerable:!1,configurable:!0}),t}();const dt=function(){function t(){this.elementsAttributes=[]}return t.prototype.isUniqueOnPage=function(t){return void 0===t&&(t=document),1==this.selectElements(t).length},t.prototype.isValid=function(t){return void 0===t&&(t=document),this.selectElements(t).length>0},t.prototype.selectElements=function(t){return void 0===t&&(t=document),new ft(t).getElements(this.selectorXPath)},Object.defineProperty(t.prototype,"numberOfAnyAttributes",{get:function(){return this.elementsAttributes.filter((function(t){return t.some((function(t){return"any"==t.type}))})).length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numberOfNonAnyAttributes",{get:function(){return this.elementsAttributes.filter((function(t){return t.some((function(t){return"any"!=t.type}))})).length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canBeCss",{get:function(){return this.elementsAttributes.reduce((function(t,e){return t&&!e.find((function(t){return!t.canBeCss}))}),!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributesCount",{get:function(){return this.elementsAttributes.reduce((function(t,e){return t+e.length}),0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectorCss",{get:function(){var t=this,e="";return this.elementsAttributes.forEach((function(n){n=n.sort((function(e,n){return t.getAttributeOrder(e)-t.getAttributeOrder(n)})),e=n.map((function(e){var r=t.elementsAttributes.indexOf(n)+1==t.elementsAttributes.length,i=n.length!=n.indexOf(e)+1;return r||i?e.css:e.cssWithIndex})).join("")+">"+e})),e.trim().replace(/>$/g,"")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectorXPath",{get:function(){var t=this,e="";return this.elementsAttributes.forEach((function(n){var r=(n=n.sort((function(e,n){return t.getAttributeOrder(e)-t.getAttributeOrder(n)}))).map((function(e){var r=t.elementsAttributes.indexOf(n)+1==t.elementsAttributes.length,i=n.length!=n.indexOf(e)+1;return r||i?e.xPath:e.xPathWithIndex})).join(""),i=n.some((function(t){return"tag"==t.type})),o=n.some((function(t){return"any"==t.type}));i||o||(r="*"+r),e=r+"/"+e})),"//"+e.trim().replace(/\/$/g,"")},enumerable:!1,configurable:!0}),t.prototype.getAttributeOrder=function(t){switch(t.type){case"tag":return 0;case"id":return 1;case"class":return 2}return 10},t.prototype.clone=function(){var e=new t;return this.elementsAttributes.forEach((function(t){e.elementsAttributes.push(function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}([],t))})),e},t.prototype.eq=function(t){return this.selectorXPath==t.selectorXPath},t}();var yt=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};const vt=function(){function t(t){void 0===t&&(t=document),this.useParentsTexts=!0,this.minSelectorsLevelToStop=2,this.maxPercentOfAnyAttributes=.3,this.doc=null,this.doc=t}return t.prototype.generate=function(t,e,n,r,i){void 0===e&&(e=!1),void 0===n&&(n=30),void 0===r&&(r=20),void 0===i&&(i=5);var o=t,a=[],u=[];for(i=i||1;o&&o.selectorsAttributes;){var l=o.selectorsAttributes;e&&(l=l.filter((function(t){return t.canBeCss}))),!this.useParentsTexts&&o.level>0&&(l=l.filter((function(t){return"text"!=t.type})));for(var s=[],c=[],f=-1;f<l.length;f++)for(var h=0;h<l.length;h++){var p=l[h],g=-1==f?null:l[f],m=[p];if(g&&m.push(g),!l.find((function(t){return t.isIFrameTag}))||(null==p?void 0:p.isIFrameTag)||(null==g?void 0:g.isIFrameTag)||m.push(l.find((function(t){return t.isIFrameTag}))),f!=h&&!c.includes(p)&&!c.includes(g)){var d=this.createNewSelectorsCombinations(o,m,u,s,i);s=d.nonUniqueSelectors,d.newUniqueSelectors.length>0&&(a=yt(yt([],a),d.newUniqueSelectors),c=yt(yt([],c),m))}}if(s.length>0||o.level<=0?u=this.removeDuplicateSelectors(s):u.forEach((function(t){return t.elementsAttributes[o.level]=[new ct("any",null)]})),a=this.removeDuplicateSelectors(a),o.level<=0){var y=l.find((function(t){return"tag"==t.type}));if(y){var v=new dt;v.elementsAttributes[0]=[y],u.push(v)}}if((a=a.filter((function(t){return!(e=t.elementsAttributes,e&&e.length>0?e.slice(-1)[0]:null).find((function(t){return t.isAny}));var e}))).length>=r||u.length<=0&&o.level>=this.minSelectorsLevelToStop)return this.getBestSelectors(a,n);o=o.parent}return this.getBestSelectors(a,n)},t.prototype.createNewSelectorsCombinations=function(t,e,n,r,i){var o=this;if(0==t.level){var a=new dt;a.elementsAttributes[t.level]=yt([],e),r.push(a)}else for(var u=0,l=n;u<l.length;u++){var s=l[u].clone();s.elementsAttributes[t.level]=yt([],e),r.push(s)}var c=r.filter((function(t){return t.isUniqueOnPage(o.doc)&&t.isValid(o.doc)&&t.numberOfAnyAttributes/t.numberOfNonAnyAttributes<o.maxPercentOfAnyAttributes}));return r=r.filter((function(t){return!c.includes(t)&&t.isValid(o.doc)})),{newUniqueSelectors:this.removeRedundantSelectors(c),nonUniqueSelectors:this.getBestSelectors(r,Math.max(5,50/i))}},t.prototype.removeRedundantSelectors=function(t){if(t.length<2)return t;t=t.sort((function(t,e){return t.attributesCount-e.attributesCount}));for(var e=[],n=function(){var n=t.shift();e.push(n),t=t.filter((function(t){if(n.elementsAttributes.length!=t.elementsAttributes.length)return!0;for(var e=!0,r=function(r){var i=!0;if(n.elementsAttributes[r].forEach((function(e){i=i&&t.elementsAttributes[r].includes(e)})),!(e=e&&i))return{value:!0}},i=0;i<n.elementsAttributes.length;i++){var o=r(i);if("object"==typeof o)return o.value}return!e}))};t.length>0;)n();return e},t.prototype.getBestSelectors=function(t,e){return t.length<=e?t:t.sort((function(t,e){return t.attributesCount-e.attributesCount})).slice(0,e)},t.prototype.removeDuplicateSelectors=function(t){var e=[];return t.forEach((function(t){e.find((function(e){return e.eq(t)}))||e.push(t)})),e},t}();var bt=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Nt=function(){function t(t){void 0===t&&(t=[]),this.doc=document,this.usedVariables=[],this.doc=document,this.usedVariables=t}return t.prototype.getOwnerDocumentOfElement=function(t){return t?t.ownerDocument||document:null},t.findBestSelector=function(e,n){void 0===n&&(n=.8);var r=e.filter((function(t){return t.value.includes("(.)")||t.value.includes("text")&&t.score>=n}));return r.length<=0&&(r=e),g(r=t.findBestSelectors(r,1))},t.findBestSelectors=function(t,e){return void 0===e&&(e=99),(t=t.sort((function(t,e){return e.score==t.score?t.value.length-e.value.length:e.score-t.score}))).slice(0,e)},t.findBestStringSelectors=function(e,n,r,i,o){void 0===n&&(n=99),void 0===r&&(r=null),void 0===i&&(i=document),void 0===o&&(o=[]);var a=r?new mt(r):null,u=e.map((function(e){var n=0,r="css";return ft.isXpathSelector(e)?(n=t.getXPathSelectorScore(e,a,o,i),r="xpath"):n=t.getCssSelectorScore(e,a,o,i),new p(r,e,n)}));return(u=u.sort((function(t,e){return e.score==t.score?t.value.length-e.value.length:e.score-t.score}))).slice(0,n)},t.prototype.getSelectors=function(e,n,r){var i=this;if(void 0===r&&(r=!1),this.doc=this.getOwnerDocumentOfElement(e),!e)return[];h.doc=this.doc;var o=new mt(e),a=new pt(this.doc,this.usedVariables).generate(o),u=this.generateSelectors(a,n,r),l=u.filter((function(t){return t.canBeCss})).map((function(e){return new p("css",e.selectorCss,t.getCssSelectorScore(e.selectorCss,o,i.usedVariables,i.doc),e)})),s=u.filter((function(t){return!t.canBeCss})).map((function(e){return new p("xpath",e.selectorXPath,t.getXPathSelectorScore(e.selectorXPath,o,i.usedVariables,i.doc),e)})),c=bt(bt([],s),l);return c.sort((function(t,e){return e.score-t.score}))},t.prototype.getSelectorsOldWay=function(e){var n=this;this.doc=this.getOwnerDocumentOfElement(e);var r=new mt(e),i=new N(this.doc,!0,this.usedVariables),o=h.getSelector(e),a=i.generateXPath(e),u=ut.getData(e),l=ut.generateCssSelector(u);(l=l.filter((function(t){return t!==o}))).unshift(o);var s=l.map((function(e){return new p("css",e,t.getCssSelectorScore(e,r,n.usedVariables,n.doc))})),c=a.map((function(e){return new p("xpath",e,t.getXPathSelectorScore(e,r,n.usedVariables,n.doc))})),f=bt(bt([],s),c);return f.sort((function(t,e){return e.score-t.score}))},t.prototype.getBestSelectors=function(e,n,r){void 0===n&&(n=20),void 0===r&&(r=!1);var i=this.getSelectors(e,n,r);return this.doc=this.getOwnerDocumentOfElement(e),t.findBestSelectors(i,n)},t.prototype.getBestSelector=function(e,n){var r;return void 0===n&&(n=!1),this.doc=this.getOwnerDocumentOfElement(e),e?null===(r=t.findBestSelector(this.getBestSelectors(e,20,n)))||void 0===r?void 0:r.value:null},t.prototype.test=function(t){this.doc=this.getOwnerDocumentOfElement(t);var e=this.getSelectors(t,99),n=this.getSelectorsOldWay(t);console.debug("-------------------NEW---------------"),e.map((function(t){return"["+t.type+"]("+t.score.toFixed(2)+") => "+t.value})).forEach((function(t){return console.debug(t)})),console.debug("-------------------OLD---------------"),n.map((function(t){return"["+t.type+"]("+t.score.toFixed(2)+") => "+t.value})).forEach((function(t){return console.debug(t)}))},t.getXPathSelectorScore=function(t,e,n,r){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=document);var i=1,o=(t.match(/\[\d+]/gi)||[]).length,a=(t.match(/::\*/gi)||[]).length,u=(t.match(/ancestor-or-self::/gi)||[]).length,l=(t.match(/text\(\)|normalize-space\(\.\)/gi)||[]).length,s=(t.match(/\//gi)||[]).length;o&&(i-=.2),u&&(i-=.15),a&&(i-=.5),l&&(i+=.1),s>2&&(i-=.02*(s-2));var c=1;if(e){var f=new ft(r).getElementsByXPath(t).map((function(t){return new mt(t)}));if(c=f.length,f.length<=0||!f.find((function(t){return t.eq(e)})))return 0}return n.find((function(e){return t.includes(e)}))&&(i-=.5),Math.min(1,Math.max(0,i/c))},t.getCssSelectorScore=function(t,e,n,r){if(void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=document),!t)return 0;var i=1,o=(t.match(/nth-child/gi)||[]).length,a=(t.match(/#[a-zA-Z0-9-_]+/gi)||[]).length,u=(t.match(/\.[a-zA-Z0-9-_]+/gi)||[]).length,l=(t.match(/\[.+=.+\]/gi)||[]).length,s=(t.match(/>/gi)||[]).length;i-=.2*o,a||u||l||(i-=.4),n.find((function(e){return t.includes(e)}))&&(i-=.5),s>1&&(i-=.02*s);var c=1;if(e){var f=new ft(r).getElementsByCss(t).map((function(t){return new mt(t)}));if(c=f.length,f.length<=0||!f.find((function(t){return t.eq(e)})))return 0}return Math.min(1,Math.max(0,i/c))},t.prototype.generateSelectors=function(t,e,n){return void 0===n&&(n=!1),[new vt(this.doc)].map((function(r){return r.generate(t,n,e)}))[0]},t}(),St=ft;return e})()}));